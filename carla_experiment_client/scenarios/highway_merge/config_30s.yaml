id: highway_merge
map: Town04
doc: docs/scenarios/highway_merge.md
weather: ClearNoon
seed: 42
duration: 60.0
fps: 20
fixed_delta_seconds: 0.05
sync_mode: true
no_rendering_mode: false
ego_vehicle: vehicle.tesla.model3
camera:
  width: 1280
  height: 720
  fov: 90
  fps: 20
  preset: driver
events:
  min_event_time_s: 30.0
  voice_lead_time_s: 3.0
  robot_precue_lead_s: 0.5
scenario:
  # Critical event at ~40s (frame 800 at 20fps)
  # Merge vehicle relocates to ego's right rear, then merges left into ego's lane
  merge_trigger_frame: 800
  merge_duration_frames: 100        # 5s merge maneuver
  merge_throttle: 0.70
  merge_steer: -0.35                # Steer left to cut into ego's lane
  merge_relocate_on_trigger: true
  merge_relocate_forward_m: 18.0    # Slightly ahead of ego
  merge_relocate_right_m: 4.5       # In right lane
  prewarm_seconds: 1.0
  # Lead vehicle creates natural car-following situation
  lead_slow_distance_m: 40.0
  lead_slow_speed_delta: 25.0       # Reduced from 40 to avoid constant braking
  ego_speed_delta: 15.0             # Ego follows at moderate speed
  ego_follow_distance_m: 8.0
  background_vehicle_count: 12      # Reduced to minimize noise events
  background_walker_count: 0
  background_min_distance_m: 35.0   # Keep background further away
  nearby_vehicle_offsets:
    - forward: 15.0
      right: 3.8
    - forward: -12.0
      right: -3.8
