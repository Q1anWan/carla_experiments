id: highway_merge
map: Town04
doc: docs/scenarios/highway_merge.md
weather: ClearNoon
seed: 42
duration: 60.0
fps: 20
fixed_delta_seconds: 0.05
sync_mode: true
no_rendering_mode: false
ego_vehicle: vehicle.tesla.model3
camera:
  width: 1280
  height: 720
  fov: 90
  fps: 20
  preset: driver
events:
  min_event_time_s: 30.0
  voice_lead_time_s: 3.0
  robot_precue_lead_s: 0.5
  enabled_types:
    - vehicle_cut_in
  single_event_types:
    - vehicle_cut_in
scenario:
  # Critical event at ~40s (frame 800 at 20fps)
  # Merge vehicle starts in adjacent lane ahead, naturally approaches and merges
  # NO relocate - merge vehicle visible from beginning for realistic approach
  merge_trigger_frame: 800          # Merge maneuver starts at ~40s (20fps)
  merge_duration_frames: 120        # 6s merge maneuver (smoother at 20fps)
  merge_throttle: 0.65              # Moderate throttle during merge
  merge_steer: -0.30                # Gentle steer left to merge
  merge_relocate_on_trigger: false  # DISABLED - no sudden teleport
  merge_vehicle_ahead_m: 25.0       # Keep merge vehicle ahead but close enough to merge
  merge_speed_delta: 15.0           # Slow merge vehicle to keep it near ego
  prewarm_seconds: 1.0
  # Lead vehicle creates natural car-following situation
  lead_slow_distance_m: 80.0        # Much further ahead - no constant braking
  lead_slow_speed_delta: 10.0       # Lead only slightly slower (10% under limit)
  ego_speed_delta: 5.0              # Ego closer to speed limit
  ego_follow_distance_m: 20.0       # Large following distance
  ego_auto_lane_change: false
  # MORE traffic for realistic highway
  background_vehicle_count: 25      # More vehicles for highway realism
  background_walker_count: 0
  background_min_distance_m: 30.0   # Allow closer background vehicles
  # Nearby vehicles for traffic density
  nearby_vehicle_offsets:
    - forward: 25.0                 # Vehicle ahead in adjacent lane
      right: 4.0
    - forward: -15.0                # Vehicle behind in adjacent lane
      right: 4.0
    - forward: 40.0                 # Vehicle far ahead in ego lane
      right: 0.0
    - forward: -25.0                # Vehicle behind ego
      right: 0.0
